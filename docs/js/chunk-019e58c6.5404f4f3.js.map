{"version":3,"sources":["webpack:///./node_modules/core-js/modules/es.string.trim.js","webpack:///./src/components/Time/index.vue?6267","webpack:///./node_modules/@babel/runtime/helpers/esm/typeof.js","webpack:///./src/components/Time/time.js","webpack:///src/components/Time/index.vue","webpack:///./src/components/Time/index.vue?8ee2","webpack:///./src/components/Time/index.vue","webpack:///./node_modules/core-js/internals/string-trim-forced.js","webpack:///./src/views/permission/role.vue?948f","webpack:///src/views/permission/role.vue","webpack:///./src/views/permission/role.vue?d84f","webpack:///./src/views/permission/role.vue"],"names":["$","$trim","trim","forcedStringTrimMethod","target","proto","forced","this","render","_vm","_h","$createElement","_c","_self","on","handleClick","_v","_s","date","staticRenderFns","_typeof","obj","Symbol","iterator","constructor","prototype","isEarly","timeStamp","currentTime","getHandledValue","num","getDate","startType","d","Date","year","getFullYear","month","getMonth","hours","getHours","minutes","getMinutes","second","getSeconds","resStr","getRelativeTime","locale","getTime","IS_EARLY","diff","dirStr","parseInt","Math","floor","timestamp","component","fails","whitespaces","non","module","exports","METHOD_NAME","name","staticClass","attrs","directives","rawName","value","localPower","expression","model","req","callback","$$v","$set","load","handleAdd","delReq","ids","length","staticStyle","roles","handleSelectionChange","scopedSlots","_u","key","fn","scope","row","enable","createdAt","updatedAt","$event","handleEdit","$index","del","pageSize","pageNum","total","handlerChangeSize","editReq","title","dialogVisible","handlerClose","ref","powerTree","powers","treeProps","slot"],"mappings":"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","file":"js/chunk-019e58c6.5404f4f3.js","sourcesContent":["'use strict';\nvar $ = require('../internals/export');\nvar $trim = require('../internals/string-trim').trim;\nvar forcedStringTrimMethod = require('../internals/string-trim-forced');\n\n// `String.prototype.trim` method\n// https://tc39.github.io/ecma262/#sec-string.prototype.trim\n$({ target: 'String', proto: true, forced: forcedStringTrimMethod('trim') }, {\n  trim: function trim() {\n    return $trim(this);\n  }\n});\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('span',{on:{\"click\":_vm.handleClick}},[_vm._v(_vm._s(_vm.date))])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","export default function _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    _typeof = function _typeof(obj) {\n      return typeof obj;\n    };\n  } else {\n    _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}","/**\r\n * @param {Number} timeStamp 判断时间戳格式是否是毫秒\r\n * @returns {Boolean}\r\n */\r\n// const isMillisecond = timeStamp => {\r\n//     const timeStr = String(timeStamp)\r\n//     return timeStr.length > 10\r\n// }\r\n\r\n/**\r\n * @param {Number} timeStamp 传入的时间戳\r\n * @param {Number} currentTime 当前时间时间戳\r\n * @returns {Boolean} 传入的时间戳是否早于当前时间戳\r\n */\r\nconst isEarly = (timeStamp, currentTime) => {\r\n  return timeStamp <= currentTime\r\n}\r\n\r\n/**\r\n * @param {Number} num 数值\r\n * @returns {String} 处理后的字符串\r\n * @description 如果传入的数值小于10，即位数只有1位，则在前面补充0\r\n */\r\nconst getHandledValue = num => {\r\n  return num < 10 ? '0' + num : num\r\n}\r\n\r\n/**\r\n * @param {Number} timeStamp 传入的时间戳\r\n * @param {Number} startType 要返回的时间字符串的格式类型，传入'year'则返回年开头的完整时间\r\n */\r\nconst getDate = (timeStamp, startType) => {\r\n  const d = new Date(timeStamp)\r\n  const year = d.getFullYear()\r\n  const month = getHandledValue(d.getMonth() + 1)\r\n  const date = getHandledValue(d.getDate())\r\n  const hours = getHandledValue(d.getHours())\r\n  const minutes = getHandledValue(d.getMinutes())\r\n  const second = getHandledValue(d.getSeconds())\r\n  let resStr = ''\r\n  if (startType === 'year') resStr = year + '-' + month + '-' + date + ' ' + hours + ':' + minutes + ':' + second\r\n  else resStr = month + '-' + date + ' ' + hours + ':' + minutes\r\n  return resStr\r\n}\r\n\r\n/**\r\n * @param {String|Number} timeStamp 时间戳\r\n * @returns {String} 相对时间字符串\r\n */\r\nexport const getRelativeTime = (timeStamp, locale) => {\r\n  // 判断当前传入的时间戳是秒格式还是毫秒\r\n  // const IS_MILLISECOND = true;\r\n  // 如果是毫秒格式则转为秒格式\r\n  // if (IS_MILLISECOND) Math.floor(timeStamp /= 1000);\r\n  // 传入的时间戳可以是数值或字符串类型，这里统一转为数值类型\r\n  // timeStamp = Number(timeStamp);\r\n  // 获取当前时间时间戳\r\n  // const currentTime = Math.floor(Date.parse(new Date()) / 1000);\r\n  const currentTime = (new Date()).getTime()\r\n\r\n  // 判断传入时间戳是否早于当前时间戳\r\n  const IS_EARLY = isEarly(timeStamp, currentTime)\r\n  // 获取两个时间戳差值\r\n  let diff = currentTime - timeStamp\r\n  // 如果IS_EARLY为false则差值取反\r\n  if (!IS_EARLY) diff = -diff\r\n  let resStr = ''\r\n  const dirStr = IS_EARLY ? (locale('i.time.before') || '前') : (locale('i.time.after') || '后')\r\n\r\n  if (diff < 1000) resStr = locale('i.time.just') || '刚刚'\r\n  // 少于等于59秒\r\n  else if (diff < 60000) resStr = parseInt(diff / 1000) + (locale('i.time.seconds') || '秒') + dirStr\r\n  // 多于59秒，少于等于59分钟59秒\r\n  else if (diff >= 60000 && diff < 3600000) resStr = Math.floor(diff / 60000) + (locale('i.time.minutes') || '分钟') + dirStr\r\n  // 多于59分钟59秒，少于等于23小时59分钟59秒\r\n  else if (diff >= 3600000 && diff < 86400000) resStr = Math.floor(diff / 3600000) + (locale('i.time.hours') || '小时') + dirStr\r\n  // 多于23小时59分钟59秒，少于等于29天59分钟59秒\r\n  else if (diff >= 86400000 && diff < 2623860000) resStr = Math.floor(diff / 86400000) + (locale('i.time.days') || '天') + dirStr\r\n  // 多于29天59分钟59秒，少于364天23小时59分钟59秒，且传入的时间戳早于当前\r\n  else if (diff >= 2623860000 && diff <= 31567860000 && IS_EARLY) resStr = getDate(timeStamp)\r\n  else resStr = getDate(timeStamp, 'year')\r\n  return resStr\r\n}\r\n\r\nexport default function (timestamp, locale) {\r\n  return getRelativeTime(timestamp, locale)\r\n}\r\n","<template>\r\n  <span @click=\"handleClick\">{{ date }}</span>\r\n</template>\r\n<script>\r\n    import Time from './time';\r\n\r\n    const oneOf = function(value, validList) {\r\n        for (let i = 0; i < validList.length; i++) {\r\n            if (value === validList[i]) {\r\n                return true;\r\n            }\r\n        }\r\n        return false;\r\n    }\r\n\r\n    // 自定义处理\r\n    const t = function(path, options) {\r\n\r\n    }\r\n\r\n    export default {\r\n        name: 'Time',\r\n        props: {\r\n            time: {\r\n                type: [Number, Date, String],\r\n                required: true\r\n            },\r\n            type: {\r\n                type: String,\r\n                validator (value) {\r\n                    return oneOf(value, ['relative', 'date', 'datetime']);\r\n                },\r\n                default: 'relative'\r\n            },\r\n            hash: {\r\n                type: String,\r\n                default: ''\r\n            },\r\n            interval: {\r\n                type: Number,\r\n                default: 60\r\n            }\r\n        },\r\n        data () {\r\n            return {\r\n                date: ''\r\n            };\r\n        },\r\n        watch: {\r\n            time () {\r\n                this.setTime()\r\n            }\r\n        },\r\n        methods: {\r\n            handleClick () {\r\n                if (this.hash !== '') window.location.hash = this.hash;\r\n            },\r\n            setTime () {\r\n                const type = typeof this.time;\r\n                let time;\r\n\r\n                if (type === 'number') {\r\n                    const timestamp = this.time.toString().length > 10 ? this.time : this.time * 1000;\r\n                    time = (new Date(timestamp)).getTime();\r\n                } else if (type === 'object') {\r\n                    time = this.time.getTime();\r\n                } else if (type === 'string') {\r\n                    time = (new Date(this.time)).getTime();\r\n                }\r\n\r\n                if (this.type === 'relative') {\r\n                    this.date = Time(time, t);\r\n                } else {\r\n                    const date = new Date(this.time);\r\n                    const year = date.getFullYear();\r\n                    const month = (date.getMonth() + 1) < 10 ? '0' + (date.getMonth() + 1) : (date.getMonth() + 1);\r\n                    const day = date.getDate() < 10 ? '0' + date.getDate() : date.getDate();\r\n                    const hour = date.getHours() < 10 ? '0' + date.getHours() : date.getHours();\r\n                    const minute = date.getMinutes() < 10 ? '0' + date.getMinutes() : date.getMinutes();\r\n                    const second = date.getSeconds() < 10 ? '0' + date.getSeconds() : date.getSeconds();\r\n\r\n                    if (this.type === 'datetime') {\r\n                        this.date = `${year}-${month}-${day} ${hour}:${minute}:${second}`;\r\n                    } else if (this.type === 'date') {\r\n                        this.date = `${year}-${month}-${day}`;\r\n                    }\r\n                }\r\n            }\r\n        },\r\n        mounted () {\r\n            this.setTime();\r\n            this.timer = setInterval(() => {\r\n                this.setTime();\r\n            }, 1000 * this.interval);\r\n        },\r\n        beforeDestroy () {\r\n            if (this.timer) clearInterval(this.timer);\r\n        }\r\n    };\r\n</script>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=2fd02613&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var fails = require('../internals/fails');\nvar whitespaces = require('../internals/whitespaces');\n\nvar non = '\\u200B\\u0085\\u180E';\n\n// check that a method works with the correct list\n// of whitespaces and has a correct name\nmodule.exports = function (METHOD_NAME) {\n  return fails(function () {\n    return !!whitespaces[METHOD_NAME]() || non[METHOD_NAME]() != non || whitespaces[METHOD_NAME].name !== METHOD_NAME;\n  });\n};\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"u-container\"},[_c('el-row',{attrs:{\"gutter\":12}},[_c('el-card',{attrs:{\"shadow\":\"never\"}},[_c('el-row',[_c('el-col',{attrs:{\"span\":5}},[_c('el-input',{directives:[{name:\"power\",rawName:\"v-power\",value:(_vm.localPower.view),expression:\"localPower.view\"}],attrs:{\"placeholder\":\"请输入内容\",\"size\":\"mini\"},model:{value:(_vm.req.value),callback:function ($$v) {_vm.$set(_vm.req, \"value\", $$v)},expression:\"req.value\"}})],1),_c('el-col',{attrs:{\"span\":19}},[_c('el-button',{directives:[{name:\"power\",rawName:\"v-power\",value:(_vm.localPower.view),expression:\"localPower.view\"}],attrs:{\"type\":\"primary\",\"size\":\"mini\",\"plain\":\"\"},on:{\"click\":_vm.load}},[_vm._v(\"查询\")])],1)],1)],1),_c('el-card',{attrs:{\"shadow\":\"never\"}},[_c('el-row',[_c('el-col',{attrs:{\"span\":24}},[_c('el-button',{directives:[{name:\"power\",rawName:\"v-power\",value:(_vm.localPower.add),expression:\"localPower.add\"}],attrs:{\"type\":\"primary\",\"size\":\"mini\",\"icon\":\"el-icon-plus\",\"plain\":\"\"},on:{\"click\":_vm.handleAdd}},[_vm._v(\"新增\")]),_c('el-button',{directives:[{name:\"throttling\",rawName:\"v-throttling\",value:(_vm.refreshThrottling),expression:\"refreshThrottling\"}],attrs:{\"type\":\"success\",\"size\":\"mini\",\"icon\":\"el-icon-refresh\",\"plain\":\"\"}},[_vm._v(\" 刷新 \")]),_c('el-button',{directives:[{name:\"power\",rawName:\"v-power\",value:(_vm.localPower.del),expression:\"localPower.del\"},{name:\"throttling\",rawName:\"v-throttling\",value:(_vm.delThrottling),expression:\"delThrottling\"}],attrs:{\"disabled\":_vm.delReq.ids.length == 0,\"icon\":\"el-icon-delete\",\"type\":\"warning\",\"size\":\"mini\",\"plain\":\"\"}},[_vm._v(\" 删除\"+_vm._s(_vm.delReq.ids.length == 0 ? '' : ' * ' + _vm.delReq.ids.length)+\" \")])],1)],1),_c('br'),_c('el-table',{staticStyle:{\"width\":\"100%\"},attrs:{\"stripe\":\"\",\"border\":\"\",\"size\":\"mini\",\"data\":_vm.roles},on:{\"selection-change\":_vm.handleSelectionChange}},[_c('el-table-column',{attrs:{\"fixed\":\"left\",\"type\":\"selection\",\"width\":\"50\"}}),_c('el-table-column',{attrs:{\"align\":\"center\",\"label\":\"序号\",\"type\":\"index\"}}),_c('el-table-column',{attrs:{\"align\":\"center\",\"label\":\"名字\",\"prop\":\"name\"}}),_c('el-table-column',{attrs:{\"align\":\"center\",\"label\":\"备注\",\"prop\":\"remark\"}}),_c('el-table-column',{attrs:{\"align\":\"center\",\"width\":\"120\",\"label\":\"是否启用\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [(scope.row.enable === 0)?_c('span',[_c('el-tag',{attrs:{\"effect\":\"dark\",\"size\":\"mini\"}},[_vm._v(\"启用\")])],1):_c('span',[_c('el-tag',{attrs:{\"effect\":\"dark\",\"size\":\"mini\",\"type\":\"info\"}},[_vm._v(\"禁用\")])],1)]}}])}),_c('el-table-column',{attrs:{\"align\":\"center\",\"label\":\"创建时间\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('i',{staticClass:\"el-icon-time\",staticStyle:{\"margin-right\":\"5px\"}}),_c('span',[_c('Time',{attrs:{\"type\":\"datetime\",\"time\":scope.row.createdAt}})],1)]}}])}),_c('el-table-column',{attrs:{\"align\":\"center\",\"label\":\"更新时间\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('i',{staticClass:\"el-icon-time\",staticStyle:{\"margin-right\":\"5px\"}}),_c('span',[_c('Time',{attrs:{\"type\":\"datetime\",\"time\":scope.row.updatedAt}})],1)]}}])}),_c('el-table-column',{attrs:{\"label\":\"操作\",\"width\":\"180\",\"fixed\":\"right\",\"align\":\"center\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-button',{directives:[{name:\"power\",rawName:\"v-power\",value:(_vm.localPower.upd),expression:\"localPower.upd\"}],attrs:{\"size\":\"mini\",\"type\":\"primary\",\"plain\":\"\",\"icon\":\"el-icon-edit\"},on:{\"click\":function($event){return _vm.handleEdit(scope.$index, scope.row)}}},[_vm._v(\"编辑\")]),_c('el-button',{directives:[{name:\"power\",rawName:\"v-power\",value:(_vm.localPower.del),expression:\"localPower.del\"}],attrs:{\"size\":\"mini\",\"type\":\"warning\",\"plain\":\"\",\"icon\":\"el-icon-delete\"},on:{\"click\":function($event){return _vm.del(scope.$index, scope.row)}}},[_vm._v(\"删除\")])]}}])})],1),_c('div',{staticStyle:{\"margin-top\":\"15px\"}},[_c('el-pagination',{attrs:{\"layout\":\"prev , pager , next , jumper , total, sizes\",\"page-sizes\":[10, 15, 20, 50],\"page-size\":_vm.req.pageSize,\"current-page\":_vm.req.pageNum,\"total\":_vm.req.total},on:{\"size-change\":_vm.handlerChangeSize,\"current-change\":_vm.load}})],1)],1)],1),_c('el-dialog',{attrs:{\"title\":_vm.editReq.title,\"append-to-body\":true,\"visible\":_vm.dialogVisible},on:{\"close\":_vm.handlerClose,\"update:visible\":function($event){_vm.dialogVisible=$event}}},[_c('el-row',{attrs:{\"gutter\":10}},[_c('el-col',{attrs:{\"span\":8}},[_c('el-form',{attrs:{\"label-position\":\"top\",\"label-width\":\"80px\",\"size\":\"mini\"}},[_c('el-form-item',{attrs:{\"label\":\"权限树\"}},[_c('el-tree',{ref:\"tree\",attrs:{\"data\":_vm.powerTree,\"show-checkbox\":\"\",\"node-key\":\"id\",\"default-checked-keys\":_vm.editReq.powers,\"default-expanded-keys\":_vm.editReq.powers,\"props\":_vm.treeProps}})],1)],1)],1),_c('el-col',{attrs:{\"span\":16}},[_c('el-form',{attrs:{\"label-position\":\"top\",\"label-width\":\"80px\",\"size\":\"mini\"}},[_c('el-form-item',{attrs:{\"label\":\"角色名字\"}},[_c('el-input',{model:{value:(_vm.editReq.name),callback:function ($$v) {_vm.$set(_vm.editReq, \"name\", $$v)},expression:\"editReq.name\"}})],1),_c('el-form-item',{attrs:{\"label\":\"角色描述\"}},[_c('el-input',{attrs:{\"type\":\"textarea\",\"rows\":2},model:{value:(_vm.editReq.remark),callback:function ($$v) {_vm.$set(_vm.editReq, \"remark\", $$v)},expression:\"editReq.remark\"}})],1),_c('el-form-item',{attrs:{\"label\":\"是否启用\"}},[_c('el-switch',{attrs:{\"active-value\":0,\"active-text\":\"启用\",\"inactive-text\":\"禁用\"},model:{value:(_vm.editReq.enable),callback:function ($$v) {_vm.$set(_vm.editReq, \"enable\", $$v)},expression:\"editReq.enable\"}})],1)],1)],1)],1),_c('span',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{attrs:{\"type\":\"primary\",\"size\":\"mini\",\"plain\":\"\"},on:{\"click\":function($event){_vm.dialogVisible = false}}},[_vm._v(\"取 消\")]),_c('el-button',{directives:[{name:\"throttling\",rawName:\"v-throttling\",value:(_vm.editThrottling),expression:\"editThrottling\"}],attrs:{\"type\":\"warning\",\"size\":\"mini\",\"plain\":\"\"}},[_vm._v(\"确 定\")])],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"u-container\">\n    <el-row :gutter=\"12\">\n      <el-card shadow=\"never\">\n        <el-row>\n          <el-col :span=\"5\">\n            <el-input v-power=\"localPower.view\" placeholder=\"请输入内容\" v-model=\"req.value\" size=\"mini\"></el-input>\n          </el-col>\n          <el-col :span=\"19\">\n            <el-button v-power=\"localPower.view\" type=\"primary\" size=\"mini\" plain @click=\"load\">查询</el-button>\n          </el-col>\n        </el-row>\n      </el-card>\n\n      <!-- 数据表格 start -->\n      <el-card shadow=\"never\">\n\n        <el-row>\n          <el-col :span=\"24\">\n            <el-button v-power=\"localPower.add\" type=\"primary\" size=\"mini\" icon=\"el-icon-plus\" plain @click=\"handleAdd\">新增</el-button>\n            <el-button v-throttling=\"refreshThrottling\" type=\"success\" size=\"mini\" icon=\"el-icon-refresh\" plain>\n              刷新\n            </el-button>\n            <el-button :disabled=\"delReq.ids.length == 0\" v-power=\"localPower.del\" icon=\"el-icon-delete\" v-throttling=\"delThrottling\" type=\"warning\" size=\"mini\" plain>\n              删除{{delReq.ids.length == 0 ? '' : ' * ' + delReq.ids.length}}\n            </el-button>\n          </el-col>\n        </el-row>\n        <br>\n        <el-table\n          stripe\n          border\n          size=\"mini\"\n          style=\"width: 100%\"\n          @selection-change=\"handleSelectionChange\"\n          :data=\"roles\">\n          <el-table-column\n            fixed=\"left\"\n            type=\"selection\"\n            width=\"50\">\n          </el-table-column>\n          <el-table-column\n            align=\"center\"\n            label=\"序号\"\n            type=\"index\">\n          </el-table-column>\n          <el-table-column\n            align=\"center\"\n            label=\"名字\"\n            prop=\"name\">\n          </el-table-column>\n          <el-table-column\n            align=\"center\"\n            label=\"备注\"\n            prop=\"remark\">\n          </el-table-column>\n          <el-table-column\n            align=\"center\"\n            width=\"120\"\n            label=\"是否启用\">\n            <template slot-scope=\"scope\">\n              <span v-if=\"scope.row.enable === 0\"><el-tag effect=\"dark\" size=\"mini\">启用</el-tag></span>\n              <span v-else><el-tag effect=\"dark\" size=\"mini\" type=\"info\">禁用</el-tag></span>\n            </template>\n          </el-table-column>\n          <el-table-column\n            align=\"center\"\n            label=\"创建时间\">\n            <template slot-scope=\"scope\">\n              <i class=\"el-icon-time\" style=\"margin-right: 5px\"></i>\n              <span><Time type=\"datetime\" :time=\"scope.row.createdAt\"></Time> </span>\n            </template>\n          </el-table-column>\n          <el-table-column\n            align=\"center\"\n            label=\"更新时间\">\n            <template slot-scope=\"scope\">\n              <i class=\"el-icon-time\" style=\"margin-right: 5px\"></i>\n              <span><Time type=\"datetime\" :time=\"scope.row.updatedAt\"></Time> </span>\n            </template>\n          </el-table-column>\n          <el-table-column\n            label=\"操作\"\n            width=\"180\"\n            fixed=\"right\"\n            align=\"center\">\n            <template slot-scope=\"scope\">\n              <el-button\n                v-power=\"localPower.upd\"\n                size=\"mini\"\n                type=\"primary\"\n                plain\n                icon=\"el-icon-edit\"\n                @click=\"handleEdit(scope.$index, scope.row)\">编辑</el-button>\n              <el-button\n                v-power=\"localPower.del\"\n                size=\"mini\"\n                type=\"warning\"\n                plain\n                icon=\"el-icon-delete\"\n                @click=\"del(scope.$index, scope.row)\">删除</el-button>\n            </template>\n          </el-table-column>\n        </el-table>\n        <!-- 数据分页 start -->\n        <div style=\"margin-top: 15px\">\n          <el-pagination\n            layout=\"prev , pager , next , jumper , total, sizes\"\n            @size-change=\"handlerChangeSize\"\n            @current-change=\"load\"\n            :page-sizes=\"[10, 15, 20, 50]\"\n            :page-size=\"req.pageSize\"\n            :current-page=\"req.pageNum\"\n            :total=\"req.total\">\n          </el-pagination>\n        </div>\n        <!-- 数据分页 end -->\n\n      </el-card>\n      <!-- 数据表格 end -->\n    </el-row>\n\n    <!-- 弹出层 start -->\n    <el-dialog\n      @close=\"handlerClose\"\n      :title=\"editReq.title\"\n      :append-to-body=\"true\"\n      :visible.sync=\"dialogVisible\">\n      <el-row :gutter=\"10\">\n        <el-col :span=\"8\">\n          <el-form label-position=\"top\" label-width=\"80px\"size=\"mini\">\n            <el-form-item label=\"权限树\">\n              <el-tree\n                ref=\"tree\"\n                :data=\"powerTree\"\n                show-checkbox\n                node-key=\"id\"\n                :default-checked-keys=\"editReq.powers\"\n                :default-expanded-keys=\"editReq.powers\"\n                :props=\"treeProps\">\n              </el-tree>\n            </el-form-item>\n          </el-form>\n        </el-col>\n        <el-col :span=\"16\">\n          <el-form label-position=\"top\" label-width=\"80px\"size=\"mini\">\n            <el-form-item label=\"角色名字\">\n              <el-input v-model=\"editReq.name\"></el-input>\n            </el-form-item>\n            <el-form-item label=\"角色描述\">\n              <el-input v-model=\"editReq.remark\" type=\"textarea\" :rows=\"2\"></el-input>\n            </el-form-item>\n\n            <el-form-item label=\"是否启用\">\n              <el-switch\n                v-model=\"editReq.enable\"\n                :active-value=\"0\"\n                active-text=\"启用\"\n                inactive-text=\"禁用\">\n              </el-switch>\n            </el-form-item>\n          </el-form>\n        </el-col>\n      </el-row>\n\n      <span slot=\"footer\" class=\"dialog-footer\">\n        <el-button type=\"primary\" size=\"mini\" plain @click=\"dialogVisible = false\">取 消</el-button>\n        <el-button type=\"warning\" size=\"mini\" plain v-throttling=\"editThrottling\">确 定</el-button>\n      </span>\n    </el-dialog>\n    <!-- 弹出层 end -->\n  </div>\n</template>\n\n<script>\n  import Time from '@/components/Time'\n\n  export default {\n    name: 'role',\n    components: {\n      Time\n    },\n    data () {\n      return {\n        // 当前页包含的权限值：访问 添加 删除 修改\n        localPower: {\n          view: 1202,\n          add: 120201,\n          del: 120202,\n          upd: 120203\n        },\n        treeProps: {\n          children: 'children',\n          label: 'name'\n        },\n        dialogVisible: false,\n        checkAll: false,\n        isIndeterminate: true,\n        powerTree: [],\n        roles: [],\n        delReq:{\n          ids: []\n        },\n        req: {\n          value: '',\n          pageSize: 10,\n          pageNum: 1,\n          total: 0\n        },\n        editReq: {\n          title: '编辑角色',\n          id: 0,\n          name: '',\n          remark: '',\n          powers: [],\n          enable: 0\n        },\n        // 节流\n        editThrottling:{\n          callback : this.edit,\n          time: 2000\n        },\n        delThrottling:{\n          callback : this.delSelection,\n          time: 2000\n        },\n        refreshThrottling:{\n          callback: () => {\n            this.initData()\n            this.init()\n          },\n          time: 2000\n        }\n      }\n    },\n    methods: {\n      // 初始化\n      init () {\n        this.load()\n      },\n      // 初始数据\n      initData(){\n        const powerTree = this.$request.fetchPowerTree()\n        powerTree.then(v => {\n          this.powerTree = v.data\n        })\n      },\n      // 加载数据\n      load () {\n        const roles = this.$request.fetchRoles(this.req)\n        roles.then(v => {\n          if (!v.code) {\n            this.roles = v.data.list\n            this.req.pageNum = v.data.page.pageNum\n            this.req.pageSize = v.data.page.pageSize\n            this.req.total = v.data.page.total\n          }\n        })\n      },\n      handlerChangeSize(val){\n        this.req.pageSize = val\n        this.load()\n      },\n      handlerClose(){\n        this.$refs.tree.setCheckedKeys([]);\n      },\n      handleAdd () {\n        this.editReq = {\n          title: '添加角色',\n          id: 0,\n          name: '',\n          remark: '',\n          powers: [],\n          enable: 0\n        }\n        console.log(\"editReq:\",this.editReq)\n        this.dialogVisible = true\n      },\n      handleEdit (index, row) {\n        this.editReq = {\n          title: '编辑角色',\n          id: row.id,\n          name: row.name,\n          remark: row.remark,\n          powers: row.powers,\n          enable: row.enable\n        }\n        this.dialogVisible = true\n      },\n      handleSelectionChange (val) {\n        if (val && val.length){\n          let items = []\n          for (let i = 0,length = val.length; i < length;i ++) {\n            items.push(val[i].id)\n          }\n          this.delReq.ids = items\n          return\n        }\n        this.delReq.ids = []\n      },\n      del (index, row) {\n        this.$confirm(`此操作将删除该角色『${row.name}』, 是否继续?`, '提示', {\n          confirmButtonText: '确定',\n          cancelButtonText: '取消',\n          type: 'warning'\n        }).then(() => {\n          this.$request.fetchDelRole(this.editReq).then(v => {\n            if (v.code) {\n              this.$message.warning('删除失败！')\n              return\n            }\n            this.$message.success('删除成功！')\n            this.load()\n          })\n        }).catch(() => {\n          this.$message.error('删除异常！')\n        })\n      },\n      delSelection(){\n        this.$confirm(`此操作将删除所有选中的角色, 是否继续?`, '提示', {\n          confirmButtonText: '确定',\n          cancelButtonText: '取消',\n          type: 'warning'\n        }).then(() => {\n          this.$request.fetchDelRoles(this.delReq.ids).then(v => {\n            if (v.code) {\n              this.$message.warning('删除失败！')\n              return\n            }\n            this.$message.success('删除成功！')\n            this.delReq.ids = []\n            this.load()\n          })\n        }).catch(() => {\n          this.$message.error('删除异常！')\n        })\n      },\n      edit () {\n        if (this.editReq.name.trim() === '') {\n          this.$message.warning('角色名字不能为空！')\n          return\n        }\n        const tip = this.editReq.id === 0 ? '新增' : '修改'\n        this.$request.fetchEditRole(this.editReq).then(v => {\n          if (v.code) {\n            this.$message.warning(`${tip}失败！`)\n            return\n          }\n          this.$message.success(`${tip}成功！`)\n          this.load()\n        })\n      }\n    }\n  }\n</script>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./role.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./role.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./role.vue?vue&type=template&id=2af37453&\"\nimport script from \"./role.vue?vue&type=script&lang=js&\"\nexport * from \"./role.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}