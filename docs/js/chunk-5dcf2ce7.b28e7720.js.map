{"version":3,"sources":["webpack:///./src/views/permission/user.vue?b555","webpack:///src/views/permission/user.vue","webpack:///./src/views/permission/user.vue?a346","webpack:///./src/views/permission/user.vue","webpack:///./src/components/Time/index.vue?7a35","webpack:///./node_modules/@babel/runtime/helpers/esm/typeof.js","webpack:///./src/components/Time/time.js","webpack:///src/components/Time/index.vue","webpack:///./src/components/Time/index.vue?8ee2","webpack:///./src/components/Time/index.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","model","value","req","callback","$$v","$set","expression","_l","item","key","label","on","handleAdd","_v","staticStyle","tableData","scopedSlots","_u","fn","scope","row","enable","createdAt","updatedAt","$event","handleEdit","$index","handleDelete","pageSize","pageNum","total","init","editReq","title","dialogVisible","ref","isIndeterminate","handleCheckAllChange","checkAll","handleCheckedCitiesChange","power","id","_s","name","slot","edit","staticRenderFns","component","handleClick","date","_typeof","obj","Symbol","iterator","constructor","prototype","isEarly","timeStamp","currentTime","getHandledValue","num","getDate","startType","d","Date","year","getFullYear","month","getMonth","hours","getHours","minutes","getMinutes","second","getSeconds","resStr","getRelativeTime","locale","getTime","IS_EARLY","diff","dirStr","parseInt","Math","floor","timestamp"],"mappings":"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","file":"js/chunk-5dcf2ce7.b28e7720.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"u-container\"},[_c('el-row',{attrs:{\"gutter\":12}},[_c('el-card',{attrs:{\"shadow\":\"never\"}},[_c('el-select',{attrs:{\"size\":\"mini\",\"placeholder\":\"请选择角色\"},model:{value:(_vm.req.value),callback:function ($$v) {_vm.$set(_vm.req, \"value\", $$v)},expression:\"req.value\"}},_vm._l((_vm.options),function(item){return _c('el-option',{key:item.value,attrs:{\"label\":item.label,\"value\":item.value}})}),1),_c('el-button',{attrs:{\"type\":\"primary\",\"size\":\"mini\",\"plain\":\"\"},on:{\"click\":_vm.handleAdd}},[_vm._v(\"新增角色\")])],1),_c('el-card',{attrs:{\"shadow\":\"never\"}},[_c('el-table',{staticStyle:{\"width\":\"100%\"},attrs:{\"size\":\"mini\",\"data\":_vm.tableData,\"stripe\":\"\"}},[_c('el-table-column',{attrs:{\"align\":\"center\",\"type\":\"index\"}}),_c('el-table-column',{attrs:{\"align\":\"center\",\"label\":\"名字\",\"prop\":\"name\"}}),_c('el-table-column',{attrs:{\"align\":\"center\",\"label\":\"备注\",\"prop\":\"remark\"}}),_c('el-table-column',{attrs:{\"align\":\"center\",\"label\":\"是否启用\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [(scope.row.enable === 0)?_c('span',[_vm._v(\"启用\")]):_c('span',[_vm._v(\"未启用\")])]}}])}),_c('el-table-column',{attrs:{\"align\":\"center\",\"label\":\"创建时间\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('i',{staticClass:\"el-icon-time\",staticStyle:{\"margin-right\":\"5px\"}}),_c('span',[_c('Time',{attrs:{\"type\":\"datetime\",\"time\":scope.row.createdAt}})],1)]}}])}),_c('el-table-column',{attrs:{\"align\":\"center\",\"label\":\"更新时间\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('i',{staticClass:\"el-icon-time\",staticStyle:{\"margin-right\":\"5px\"}}),_c('span',[_c('Time',{attrs:{\"type\":\"datetime\",\"time\":scope.row.updatedAt}})],1)]}}])}),_c('el-table-column',{attrs:{\"align\":\"right\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-button',{attrs:{\"size\":\"mini\",\"type\":\"primary\",\"plain\":\"\"},on:{\"click\":function($event){return _vm.handleEdit(scope.$index, scope.row)}}},[_vm._v(\"编辑\")]),_c('el-button',{attrs:{\"size\":\"mini\",\"type\":\"warning\",\"plain\":\"\"},on:{\"click\":function($event){return _vm.handleDelete(scope.$index, scope.row)}}},[_vm._v(\"删除\")])]}}])})],1)],1),_c('el-card',{attrs:{\"shadow\":\"never\"}},[_c('el-pagination',{attrs:{\"small\":true,\"background\":\"\",\"layout\":\"prev, pager, next\",\"page-size\":_vm.req.pageSize,\"current-page\":_vm.req.pageNum,\"total\":_vm.req.total},on:{\"current-change\":_vm.init}})],1)],1),_c('el-dialog',{attrs:{\"title\":_vm.editReq.title,\"append-to-body\":true,\"visible\":_vm.dialogVisible},on:{\"update:visible\":function($event){_vm.dialogVisible=$event}}},[_c('el-form',{ref:\"form\",attrs:{\"model\":_vm.editReq,\"label-position\":\"left\",\"label-width\":\"80px\"}},[_c('el-form-item',{attrs:{\"label\":\"角色名字\"}},[_c('el-input',{model:{value:(_vm.editReq.name),callback:function ($$v) {_vm.$set(_vm.editReq, \"name\", $$v)},expression:\"editReq.name\"}})],1),_c('el-form-item',{attrs:{\"label\":\"角色描述\"}},[_c('el-input',{attrs:{\"type\":\"textarea\",\"rows\":2},model:{value:(_vm.editReq.remark),callback:function ($$v) {_vm.$set(_vm.editReq, \"remark\", $$v)},expression:\"editReq.remark\"}})],1),_c('el-form-item',{attrs:{\"label\":\"权限\"}},[_c('el-checkbox',{attrs:{\"indeterminate\":_vm.isIndeterminate},on:{\"change\":_vm.handleCheckAllChange},model:{value:(_vm.checkAll),callback:function ($$v) {_vm.checkAll=$$v},expression:\"checkAll\"}},[_vm._v(\"全选\")]),_c('div',{staticStyle:{\"margin\":\"15px 0\"}}),_c('el-checkbox-group',{on:{\"change\":_vm.handleCheckedCitiesChange},model:{value:(_vm.editReq.powers),callback:function ($$v) {_vm.$set(_vm.editReq, \"powers\", $$v)},expression:\"editReq.powers\"}},_vm._l((_vm.powers),function(power){return _c('el-checkbox',{key:power.id,attrs:{\"label\":power.id}},[_vm._v(_vm._s(power.name))])}),1)],1),_c('el-form-item',{attrs:{\"label\":\"是否启用\"}},[_c('el-switch',{attrs:{\"active-value\":0,\"active-text\":\"启用\",\"inactive-text\":\"不启用\"},model:{value:(_vm.editReq.enable),callback:function ($$v) {_vm.$set(_vm.editReq, \"enable\", $$v)},expression:\"editReq.enable\"}})],1)],1),_c('span',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{attrs:{\"type\":\"primary\",\"size\":\"mini\",\"plain\":\"\"},on:{\"click\":function($event){_vm.dialogVisible = false}}},[_vm._v(\"取 消\")]),_c('el-button',{attrs:{\"type\":\"warning\",\"size\":\"mini\",\"plain\":\"\"},on:{\"click\":_vm.edit}},[_vm._v(\"确 定\")])],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"u-container\">\n    <el-row :gutter=\"12\">\n      <el-card shadow=\"never\">\n        <el-select v-model=\"req.value\" size=\"mini\" placeholder=\"请选择角色\">\n          <el-option\n            v-for=\"item in options\"\n            :key=\"item.value\"\n            :label=\"item.label\"\n            :value=\"item.value\">\n          </el-option>\n        </el-select>\n        <el-button type=\"primary\" size=\"mini\" plain @click=\"handleAdd\">新增角色</el-button>\n      </el-card>\n      <el-card shadow=\"never\">\n        <el-table\n          size=\"mini\"\n          :data=\"tableData\"\n          stripe\n          style=\"width: 100%\">\n          <el-table-column\n            align=\"center\"\n            type=\"index\">\n          </el-table-column>\n          <el-table-column\n            align=\"center\"\n            label=\"名字\"\n            prop=\"name\">\n          </el-table-column>\n          <el-table-column\n            align=\"center\"\n            label=\"备注\"\n            prop=\"remark\">\n          </el-table-column>\n          <el-table-column\n            align=\"center\"\n            label=\"是否启用\">\n            <template slot-scope=\"scope\">\n              <span v-if=\"scope.row.enable === 0\">启用</span>\n              <span v-else>未启用</span>\n            </template>\n          </el-table-column>\n          <el-table-column\n            align=\"center\"\n            label=\"创建时间\">\n            <template slot-scope=\"scope\">\n              <i class=\"el-icon-time\" style=\"margin-right: 5px\"></i>\n              <span><Time type=\"datetime\" :time=\"scope.row.createdAt\"></Time> </span>\n            </template>\n          </el-table-column>\n          <el-table-column\n            align=\"center\"\n            label=\"更新时间\">\n            <template slot-scope=\"scope\">\n              <i class=\"el-icon-time\" style=\"margin-right: 5px\"></i>\n              <span><Time type=\"datetime\" :time=\"scope.row.updatedAt\"></Time> </span>\n            </template>\n          </el-table-column>\n          <el-table-column\n            align=\"right\">\n            <template slot-scope=\"scope\">\n              <el-button\n                size=\"mini\"\n                type=\"primary\"\n                plain\n                @click=\"handleEdit(scope.$index, scope.row)\">编辑</el-button>\n              <el-button\n                size=\"mini\"\n                type=\"warning\"\n                plain\n                @click=\"handleDelete(scope.$index, scope.row)\">删除</el-button>\n            </template>\n          </el-table-column>\n        </el-table>\n      </el-card>\n      <el-card shadow=\"never\">\n        <el-pagination\n          :small=\"true\"\n          background\n          layout=\"prev, pager, next\"\n          @current-change=\"init\"\n          :page-size=\"req.pageSize\"\n          :current-page=\"req.pageNum\"\n          :total=\"req.total\">\n        </el-pagination>\n      </el-card>\n    </el-row>\n\n    <el-dialog\n      :title=\"editReq.title\"\n      :append-to-body=\"true\"\n      :visible.sync=\"dialogVisible\">\n      <el-form ref=\"form\" :model=\"editReq\" label-position=\"left\" label-width=\"80px\">\n        <el-form-item label=\"角色名字\">\n          <el-input v-model=\"editReq.name\"></el-input>\n        </el-form-item>\n        <el-form-item label=\"角色描述\">\n          <el-input v-model=\"editReq.remark\" type=\"textarea\" :rows=\"2\"></el-input>\n        </el-form-item>\n        <el-form-item label=\"权限\">\n          <el-checkbox :indeterminate=\"isIndeterminate\" v-model=\"checkAll\" @change=\"handleCheckAllChange\">全选</el-checkbox>\n          <div style=\"margin: 15px 0;\"></div>\n          <el-checkbox-group v-model=\"editReq.powers\" @change=\"handleCheckedCitiesChange\">\n            <el-checkbox v-for=\"power in powers\" :label=\"power.id\" :key=\"power.id\">{{power.name}}</el-checkbox>\n          </el-checkbox-group>\n        </el-form-item>\n        <el-form-item label=\"是否启用\">\n          <el-switch\n            v-model=\"editReq.enable\"\n            :active-value=\"0\"\n            active-text=\"启用\"\n            inactive-text=\"不启用\">\n          </el-switch>\n        </el-form-item>\n      </el-form>\n      <span slot=\"footer\" class=\"dialog-footer\">\n          <el-button type=\"primary\" size=\"mini\" plain @click=\"dialogVisible = false\">取 消</el-button>\n          <el-button type=\"warning\" size=\"mini\" plain @click=\"edit\">确 定</el-button>\n        </span>\n    </el-dialog>\n\n  </div>\n</template>\n\n<script>\n\n  import Time from \"@/components/Time\"\n\n  export default {\n    name: \"user\",\n    components:{\n      Time\n    },\n    data() {\n      return {\n        req:{\n          value: 0,\n          pageSize: 10,\n          pageNum: 1,\n          total: 100\n        },\n        editReq: {\n          title: \"编辑角色\",\n          id: 0,\n          name:\"\",\n          remark:\"\",\n          powers: [],\n          enable: 0\n        },\n        dialogVisible: false,\n        checkAll: false,\n        isIndeterminate: true,\n        powers:[{\n          id: 10,\n          name:\"角色页面\",\n        },{\n          id: 1010,\n          name:\"角色添加\",\n        },{\n          id: 1011,\n          name:\"角色编辑\",\n        },{\n          id: 1012,\n          name:\"角色删除\",\n        }],\n        options: [{\n          value: 0,\n          label: \"请选择角色\"\n        },{\n          value: 1,\n          label: \"管理者\"\n        },{\n          value: 2,\n          label: \"测试者\"\n        }],\n        tableData: [{\n          id:1,\n          name: \"管理者\",\n          remark:\"普通管理者\",\n          enable: 0,\n          createdAt: +new Date(),\n          updatedAt: +new Date(),\n        },{\n          id:2,\n          name: \"测试者\",\n          remark:\"测试系统\",\n          enable: 0,\n          createdAt: +new Date(),\n          updatedAt: +new Date(),\n        }]\n      }\n    },\n    mounted() {\n      this.init()\n    },\n    methods: {\n      init(){\n        let items = []\n        for(let i = 1; i < 11;i ++){\n          let item = {\n            id:i,\n            name: \"管理者\" + i,\n            remark:\"普通管理者\" + i,\n            enable: 0,\n            powers: [],\n            createdAt: +new Date() - i * 10 * 36000,\n            updatedAt: +new Date() - i *10 * 600\n          }\n          items.push(item)\n        }\n        this.tableData = items\n      },\n      handleAdd(){\n        this.editReq = {\n          title: \"添加角色\",\n          id: 0,\n          name: \"\",\n          remark: \"\",\n          powers: [10],\n          enable: 0\n        }\n        this.dialogVisible = true\n      },\n      handleEdit(index, row) {\n        this.editReq = {\n          title: \"编辑角色\",\n          id: row.id,\n          name: row.name,\n          remark: row.remark,\n          powers: row.powers,\n          enable: row.enable\n        }\n        this.dialogVisible = true\n      },\n      handleDelete(index, row) {\n        this.$confirm(`此操作将删除该角色『${row.name}』, 是否继续?`, \"提示\", {\n          confirmButtonText: \"确定\",\n          cancelButtonText: \"取消\",\n          type: \"warning\"\n        }).then(() => {\n          this.$message({\n            type: \"success\",\n            message: \"删除成功!\"\n          });\n        }).catch(() => {\n          this.$message({\n            type: \"info\",\n            message: \"已取消删除\"\n          });\n        });\n      },\n      handleCheckAllChange(val) {\n        this.editReq.powers = val ? this.powers.map(({id}) => id) : [];\n        this.isIndeterminate = false;\n      },\n      handleCheckedCitiesChange(value) {\n        let checkedCount = value.length;\n        this.checkAll = checkedCount === this.editReq.powers.length;\n        this.isIndeterminate = checkedCount > 0 && checkedCount < this.powers.length;\n      },\n      edit(){\n        this.$message({\n          showClose: true,\n          type: \"success\",\n          message: \"修改完成\"\n        });\n        this.dialogVisible = false\n      }\n    }\n  }\n</script>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./user.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./user.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./user.vue?vue&type=template&id=112529ee&\"\nimport script from \"./user.vue?vue&type=script&lang=js&\"\nexport * from \"./user.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('span',{on:{\"click\":_vm.handleClick}},[_vm._v(_vm._s(_vm.date))])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","export default function _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    _typeof = function _typeof(obj) {\n      return typeof obj;\n    };\n  } else {\n    _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}","/**\r\n * @param {Number} timeStamp 判断时间戳格式是否是毫秒\r\n * @returns {Boolean}\r\n */\r\n// const isMillisecond = timeStamp => {\r\n//     const timeStr = String(timeStamp)\r\n//     return timeStr.length > 10\r\n// }\r\n\r\n/**\r\n * @param {Number} timeStamp 传入的时间戳\r\n * @param {Number} currentTime 当前时间时间戳\r\n * @returns {Boolean} 传入的时间戳是否早于当前时间戳\r\n */\r\nconst isEarly = (timeStamp, currentTime) => {\r\n    return timeStamp <= currentTime;\r\n};\r\n\r\n/**\r\n * @param {Number} num 数值\r\n * @returns {String} 处理后的字符串\r\n * @description 如果传入的数值小于10，即位数只有1位，则在前面补充0\r\n */\r\nconst getHandledValue = num => {\r\n    return num < 10 ? '0' + num : num;\r\n};\r\n\r\n/**\r\n * @param {Number} timeStamp 传入的时间戳\r\n * @param {Number} startType 要返回的时间字符串的格式类型，传入'year'则返回年开头的完整时间\r\n */\r\nconst getDate = (timeStamp, startType) => {\r\n    const d = new Date(timeStamp);\r\n    const year = d.getFullYear();\r\n    const month = getHandledValue(d.getMonth() + 1);\r\n    const date = getHandledValue(d.getDate());\r\n    const hours = getHandledValue(d.getHours());\r\n    const minutes = getHandledValue(d.getMinutes());\r\n    const second = getHandledValue(d.getSeconds());\r\n    let resStr = '';\r\n    if (startType === 'year') resStr = year + '-' + month + '-' + date + ' ' + hours + ':' + minutes + ':' + second;\r\n    else resStr = month + '-' + date + ' ' + hours + ':' + minutes;\r\n    return resStr;\r\n};\r\n\r\n/**\r\n * @param {String|Number} timeStamp 时间戳\r\n * @returns {String} 相对时间字符串\r\n */\r\nexport const getRelativeTime = (timeStamp, locale) => {\r\n    // 判断当前传入的时间戳是秒格式还是毫秒\r\n    // const IS_MILLISECOND = true;\r\n    // 如果是毫秒格式则转为秒格式\r\n    // if (IS_MILLISECOND) Math.floor(timeStamp /= 1000);\r\n    // 传入的时间戳可以是数值或字符串类型，这里统一转为数值类型\r\n    // timeStamp = Number(timeStamp);\r\n    // 获取当前时间时间戳\r\n    // const currentTime = Math.floor(Date.parse(new Date()) / 1000);\r\n    const currentTime = (new Date()).getTime();\r\n\r\n    // 判断传入时间戳是否早于当前时间戳\r\n    const IS_EARLY = isEarly(timeStamp, currentTime);\r\n    // 获取两个时间戳差值\r\n    let diff = currentTime - timeStamp;\r\n    // 如果IS_EARLY为false则差值取反\r\n    if (!IS_EARLY) diff = -diff;\r\n    let resStr = '';\r\n    let dirStr = IS_EARLY ? (locale('i.time.before') || '前') : (locale('i.time.after') || '后');\r\n\r\n    if (diff < 1000) resStr = locale('i.time.just') || '刚刚';\r\n    // 少于等于59秒\r\n    else if (diff < 60000) resStr = parseInt(diff / 1000) + (locale('i.time.seconds') || '秒') + dirStr;\r\n    // 多于59秒，少于等于59分钟59秒\r\n    else if (diff >= 60000 && diff < 3600000) resStr = Math.floor(diff / 60000) + (locale('i.time.minutes') || '分钟') + dirStr;\r\n    // 多于59分钟59秒，少于等于23小时59分钟59秒\r\n    else if (diff >= 3600000 && diff < 86400000) resStr = Math.floor(diff / 3600000) + (locale('i.time.hours') || '小时') + dirStr;\r\n    // 多于23小时59分钟59秒，少于等于29天59分钟59秒\r\n    else if (diff >= 86400000 && diff < 2623860000) resStr = Math.floor(diff / 86400000) + (locale('i.time.days') || '天') + dirStr;\r\n    // 多于29天59分钟59秒，少于364天23小时59分钟59秒，且传入的时间戳早于当前\r\n    else if (diff >= 2623860000 && diff <= 31567860000 && IS_EARLY) resStr = getDate(timeStamp);\r\n    else resStr = getDate(timeStamp, 'year');\r\n    return resStr;\r\n};\r\n\r\nexport default function (timestamp, locale) {\r\n    return getRelativeTime(timestamp, locale);\r\n}\r\n","<template>\r\n    <span @click=\"handleClick\">{{ date }}</span>\r\n</template>\r\n<script>\r\n    import Time from './time';\r\n\r\n    const oneOf = function(value, validList) {\r\n        for (let i = 0; i < validList.length; i++) {\r\n            if (value === validList[i]) {\r\n                return true;\r\n            }\r\n        }\r\n        return false;\r\n    }\r\n\r\n    // 自定义处理\r\n    const t = function(path, options) {\r\n\r\n    }\r\n\r\n    export default {\r\n        name: 'Time',\r\n        props: {\r\n            time: {\r\n                type: [Number, Date, String],\r\n                required: true\r\n            },\r\n            type: {\r\n                type: String,\r\n                validator (value) {\r\n                    return oneOf(value, ['relative', 'date', 'datetime']);\r\n                },\r\n                default: 'relative'\r\n            },\r\n            hash: {\r\n                type: String,\r\n                default: ''\r\n            },\r\n            interval: {\r\n                type: Number,\r\n                default: 60\r\n            }\r\n        },\r\n        data () {\r\n            return {\r\n                date: ''\r\n            };\r\n        },\r\n        watch: {\r\n            time () {\r\n                this.setTime()\r\n            }\r\n        },\r\n        methods: {\r\n            handleClick () {\r\n                if (this.hash !== '') window.location.hash = this.hash;\r\n            },\r\n            setTime () {\r\n                const type = typeof this.time;\r\n                let time;\r\n\r\n                if (type === 'number') {\r\n                    const timestamp = this.time.toString().length > 10 ? this.time : this.time * 1000;\r\n                    time = (new Date(timestamp)).getTime();\r\n                } else if (type === 'object') {\r\n                    time = this.time.getTime();\r\n                } else if (type === 'string') {\r\n                    time = (new Date(this.time)).getTime();\r\n                }\r\n\r\n                if (this.type === 'relative') {\r\n                    this.date = Time(time, t);\r\n                } else {\r\n                    const date = new Date(this.time);\r\n                    const year = date.getFullYear();\r\n                    const month = (date.getMonth() + 1) < 10 ? '0' + (date.getMonth() + 1) : (date.getMonth() + 1);\r\n                    const day = date.getDate() < 10 ? '0' + date.getDate() : date.getDate();\r\n                    const hour = date.getHours() < 10 ? '0' + date.getHours() : date.getHours();\r\n                    const minute = date.getMinutes() < 10 ? '0' + date.getMinutes() : date.getMinutes();\r\n                    const second = date.getSeconds() < 10 ? '0' + date.getSeconds() : date.getSeconds();\r\n\r\n                    if (this.type === 'datetime') {\r\n                        this.date = `${year}-${month}-${day} ${hour}:${minute}:${second}`;\r\n                    } else if (this.type === 'date') {\r\n                        this.date = `${year}-${month}-${day}`;\r\n                    }\r\n                }\r\n            }\r\n        },\r\n        mounted () {\r\n            this.setTime();\r\n            this.timer = setInterval(() => {\r\n                this.setTime();\r\n            }, 1000 * this.interval);\r\n        },\r\n        beforeDestroy () {\r\n            if (this.timer) clearInterval(this.timer);\r\n        }\r\n    };\r\n</script>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=6a6b09d3&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}